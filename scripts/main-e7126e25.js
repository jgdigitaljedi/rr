"use strict";angular.module("rr",["mgcrea.ngStrap","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.typeahead","debounce"]),/**
 * Version: 1.0 Alpha-1 
 * Build Date: 13-Nov-2007
 * Copyright (c) 2006-2007, Coolite Inc. (http://www.coolite.com/). All rights reserved.
 * License: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
 * Website: http://www.datejs.com/ or http://www.coolite.com/datejs/
 */
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}},Date.getMonthNumberFromName=function(e){for(var t=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,a=e.toLowerCase(),o=0;o<t.length;o++)if(t[o].toLowerCase()==a||n[o].toLowerCase()==a)return o;return-1},Date.getDayNumberFromName=function(e){for(var t=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,a=(Date.CultureInfo.shortestDayNames,e.toLowerCase()),o=0;o<t.length;o++)if(t[o].toLowerCase()==a||n[o].toLowerCase()==a)return o;return-1},Date.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.getTimezoneOffset=function(e,t){return t?Date.CultureInfo.abbreviatedTimeZoneDST[e.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[e.toUpperCase()]},Date.getTimezoneAbbreviation=function(e,t){var n,a=t?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in a)if(a[n]===e)return n;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(e){if(isNaN(this))throw new Error(this);if(e instanceof Date&&!isNaN(e))return this>e?1:e>this?-1:0;throw new TypeError(e)},Date.prototype.equals=function(e){return 0===this.compareTo(e)},Date.prototype.between=function(e,t){var n=this.getTime();return n>=e.getTime()&&n<=t.getTime()},Date.prototype.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},Date.prototype.addSeconds=function(e){return this.addMilliseconds(1e3*e)},Date.prototype.addMinutes=function(e){return this.addMilliseconds(6e4*e)},Date.prototype.addHours=function(e){return this.addMilliseconds(36e5*e)},Date.prototype.addDays=function(e){return this.addMilliseconds(864e5*e)},Date.prototype.addWeeks=function(e){return this.addMilliseconds(6048e5*e)},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this},Date.prototype.addYears=function(e){return this.addMonths(12*e)},Date.prototype.add=function(e){if("number"==typeof e)return this._orient=e,this;var t=e;return(t.millisecond||t.milliseconds)&&this.addMilliseconds(t.millisecond||t.milliseconds),(t.second||t.seconds)&&this.addSeconds(t.second||t.seconds),(t.minute||t.minutes)&&this.addMinutes(t.minute||t.minutes),(t.hour||t.hours)&&this.addHours(t.hour||t.hours),(t.month||t.months)&&this.addMonths(t.month||t.months),(t.year||t.years)&&this.addYears(t.year||t.years),(t.day||t.days)&&this.addDays(t.day||t.days),this},Date._validate=function(e,t,n,a){if("number"!=typeof e)throw new TypeError(e+" is not a Number.");if(t>e||e>n)throw new RangeError(e+" is not a valid value for "+a+".");return!0},Date.validateMillisecond=function(e){return Date._validate(e,0,999,"milliseconds")},Date.validateSecond=function(e){return Date._validate(e,0,59,"seconds")},Date.validateMinute=function(e){return Date._validate(e,0,59,"minutes")},Date.validateHour=function(e){return Date._validate(e,0,23,"hours")},Date.validateDay=function(e,t,n){return Date._validate(e,1,Date.getDaysInMonth(t,n),"days")},Date.validateMonth=function(e){return Date._validate(e,0,11,"months")},Date.validateYear=function(e){return Date._validate(e,1,9999,"seconds")},Date.prototype.set=function(e){var t=e;return t.millisecond||0===t.millisecond||(t.millisecond=-1),t.second||0===t.second||(t.second=-1),t.minute||0===t.minute||(t.minute=-1),t.hour||0===t.hour||(t.hour=-1),t.day||0===t.day||(t.day=-1),t.month||0===t.month||(t.month=-1),t.year||0===t.year||(t.year=-1),-1!=t.millisecond&&Date.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),-1!=t.second&&Date.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),-1!=t.minute&&Date.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),-1!=t.hour&&Date.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),-1!==t.month&&Date.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),-1!=t.year&&Date.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),-1!=t.day&&Date.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return e%4===0&&e%100!==0||e%400===0},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(e,t){var n=(e-this.getDay()+7*(t||1))%7;return this.addDays(0===n?n+=7*(t||1):n)},Date.prototype.moveToMonth=function(e,t){var n=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(0===n?n+=12*(t||1):n)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(e){var t=this.getFullYear(),n=this.getMonth(),a=this.getDate(),o=e||Date.CultureInfo.firstDayOfWeek,r=8-new Date(t,0,1).getDay();8==r&&(r=1);var i=(Date.UTC(t,n,a,0,0,0)-Date.UTC(t,0,1,0,0,0))/864e5+1,s=Math.floor((i-r+7)/7);if(s===o){t--;var l=8-new Date(t,0,1).getDay();s=2==l||8==l?53:52}return s},Date.prototype.isDST=function(){return console.log("isDST"),"D"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),n=-6*Number(e)/10;return this.addMinutes(n-t),this},Date.prototype.setTimezone=function(e){return this.setTimezoneOffset(Date.getTimezoneOffset(e))},Date.prototype.getUTCOffset=function(){var e,t=-10*this.getTimezoneOffset()/6;return 0>t?(e=(t-1e4).toString(),e[0]+e.substr(2)):(e=(t+1e4).toString(),"+"+e.substr(1))},Date.prototype.getDayName=function(e){return e?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(e){return e?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(e){var t=this,n=function(e){return 1==e.toString().length?"0"+e:e};return e?e.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(e){switch(e){case"hh":return n(t.getHours()<13?t.getHours():t.getHours()-12);case"h":return t.getHours()<13?t.getHours():t.getHours()-12;case"HH":return n(t.getHours());case"H":return t.getHours();case"mm":return n(t.getMinutes());case"m":return t.getMinutes();case"ss":return n(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return t.getFullYear();case"yy":return t.getFullYear().toString().substring(2,4);case"dddd":return t.getDayName();case"ddd":return t.getDayName(!0);case"dd":return n(t.getDate());case"d":return t.getDate().toString();case"MMMM":return t.getMonthName();case"MMM":return t.getMonthName(!0);case"MM":return n(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement="day",Number.prototype.fromNow=function(){var e={};return e[this._dateElement]=this,Date.now().add(e)},Number.prototype.ago=function(){var e={};return e[this._dateElement]=-1*this,Date.now().add(e)},function(){for(var e,t=Date.prototype,n=Number.prototype,a="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),o="january february march april may june july august september october november december".split(/\s/),r="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),i=function(e){return function(){return this._is?(this._is=!1,this.getDay()==e):this.moveToDayOfWeek(e,this._orient)}},s=0;s<a.length;s++)t[a[s]]=t[a[s].substring(0,3)]=i(s);for(var l=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},u=0;u<o.length;u++)t[o[u]]=t[o[u].substring(0,3)]=l(u);for(var c=function(e){return function(){return"s"!=e.substring(e.length-1)&&(e+="s"),this["add"+e](this._orient)}},d=function(e){return function(){return this._dateElement=e,this}},f=0;f<r.length;f++)e=r[f].toLowerCase(),t[e]=t[e+"s"]=c(r[f]),n[e]=n[e+"s"]=d(e)}(),Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},function(){Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};for(var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(n){var a=n.match(t);if(a)return[a[0],n.substring(a[0].length)];throw new e.Exception(n)}},token:function(){return function(e){return t.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(new RegExp("^"+e))},until:function(e){return function(t){for(var n=[],a=null;t.length;){try{a=e.call(this,t)}catch(o){n.push(a[0]),t=a[1];continue}break}return[n,t]}},many:function(e){return function(t){for(var n=[],a=null;t.length;){try{a=e.call(this,t)}catch(o){return[n,t]}n.push(a[0]),t=a[1]}return[n,t]}},optional:function(e){return function(t){var n=null;try{n=e.call(this,t)}catch(a){return[null,t]}return[n[0],n[1]]}},not:function(t){return function(n){try{t.call(this,n)}catch(a){return[null,n]}throw new e.Exception(n)}},ignore:function(e){return e?function(t){var n=null;return n=e.call(this,t),[null,n[1]]}:null},product:function(){for(var e=arguments[0],n=Array.prototype.slice.call(arguments,1),a=[],o=0;o<e.length;o++)a.push(t.each(e[o],n));return a},cache:function(t){var n={},a=null;return function(o){try{a=n[o]=n[o]||t.call(this,o)}catch(r){a=n[o]=r}if(a instanceof e.Exception)throw a;return a}},any:function(){var t=arguments;return function(n){for(var a=null,o=0;o<t.length;o++)if(null!=t[o]){try{a=t[o].call(this,n)}catch(r){a=null}if(a)return a}throw new e.Exception(n)}},each:function(){var t=arguments;return function(n){for(var a=[],o=null,r=0;r<t.length;r++)if(null!=t[r]){try{o=t[r].call(this,n)}catch(i){throw new e.Exception(n)}a.push(o[0]),n=o[1]}return[a,n]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(n,a,o){return a=a||t.rtoken(/^\s*/),o=o||null,1==n.length?n[0]:function(t){for(var r=null,i=null,s=[],l=0;l<n.length;l++){try{r=n[l].call(this,t)}catch(u){break}s.push(r[0]);try{i=a.call(this,r[1])}catch(c){i=null;break}t=i[1]}if(!r)throw new e.Exception(t);if(i)throw new e.Exception(i[1]);if(o)try{r=o.call(this,r[1])}catch(d){throw new e.Exception(r[1])}return[s,r?r[1]:t]}},between:function(e,n,a){a=a||e;var o=t.each(t.ignore(e),n,t.ignore(a));return function(e){var t=o.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,n,a){return n=n||t.rtoken(/^\s*/),a=a||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(n)),e.slice(-1),t.ignore(a)):t.each(t.many(t.each(e,t.ignore(n))),px,t.ignore(a))},set:function(n,a,o){return a=a||t.rtoken(/^\s*/),o=o||null,function(r){for(var i=null,s=null,l=null,u=null,c=[[],r],d=!1,f=0;f<n.length;f++){l=null,s=null,i=null,d=1==n.length;try{i=n[f].call(this,r)}catch(h){continue}if(u=[[i[0]],i[1]],i[1].length>0&&!d)try{l=a.call(this,i[1])}catch(m){d=!0}else d=!0;if(d||0!==l[1].length||(d=!0),!d){for(var p=[],g=0;g<n.length;g++)f!=g&&p.push(n[g]);s=t.set(p,a).call(this,l[1]),s[0].length>0&&(u[0]=u[0].concat(s[0]),u[1]=s[1])}if(u[1].length<c[1].length&&(c=u),0===c[1].length)break}if(0===c[0].length)return c;if(o){try{l=o.call(this,c[1])}catch($){throw new e.Exception(c[1])}c[1]=l[1]}return c}},forward:function(e,t){return function(n){return e[t].call(this,n)}},replace:function(e,t){return function(n){var a=e.call(this,n);return[t,a[1]]}},process:function(e,t){return function(n){var a=e.call(this,n);return[t.call(this,a[0]),a[1]]}},min:function(t,n){return function(a){var o=n.call(this,a);if(o[0].length<t)throw new e.Exception(a);return o}}},n=function(e){return function(){var t=null,n=[];if(arguments.length>1?t=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(t=arguments[0]),!t)return e.apply(null,arguments);for(var a=0,o=t.shift();a<o.length;a++)return t.unshift(o[a]),n.push(e.apply(null,t)),t.shift(),n}},a="optional not ignore cache".split(/\s/),o=0;o<a.length;o++)t[a[o]]=n(t[a[o]]);for(var i=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},s="each any all".split(/\s/),l=0;l<s.length;l++)t[s[l]]=i(t[s[l]])}(),function(){var e=function(t){for(var n=[],a=0;a<t.length;a++)t[a]instanceof Array?n=n.concat(e(t[a])):t[a]&&n.push(t[a]);return n};Date.Grammar={},Date.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){this.day=Number(t.match(/\d+/)[0])}},month:function(e){return function(){this.month=3==e.length?Date.getMonthNumberFromName(e):Number(e)-1}},year:function(e){return function(){var t=Number(e);this.year=e.length>2?t:t+(t+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];var t=new Date;this.year=t.getFullYear(),this.month=t.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var n=0;n<e.length;n++)e[n]&&e[n].call(this);if(this.hour="p"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var a=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?a.set({timezone:this.timezone}):this.timezoneOffset&&a.set({timezoneOffset:this.timezoneOffset}),a},finish:function(t){if(t=t instanceof Array?e(t):[t],0===t.length)return null;for(var n=0;n<t.length;n++)"function"==typeof t[n]&&t[n].call(this);if(this.now)return new Date;var a=Date.today(),o=!(null==this.days&&!this.orient&&!this.operator);if(o){var r,i,s;return s="past"==this.orient||"subtract"==this.operator?-1:1,this.weekday&&(this.unit="day",r=Date.getDayNumberFromName(this.weekday)-a.getDay(),i=7,this.days=r?(r+s*i)%i:s*i),this.month&&(this.unit="month",r=this.month-a.getMonth(),i=12,this.months=r?(r+s*i)%i:s*i,this.month=null),this.unit||(this.unit="day"),(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),"week"==this.unit&&(this.unit="day",this.value=7*this.value),this[this.unit+"s"]=this.value*s),a.add(this)}return this.meridian&&this.hour&&(this.hour=this.hour<13&&"p"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=a.addDays(Date.getDayNumberFromName(this.weekday)-a.getDay()).getDate()),this.month&&!this.day&&(this.day=1),a.set(this)}};var t,n=Date.Parsing.Operators,a=Date.Grammar,o=Date.Translator;a.datePartDelimiter=n.rtoken(/^([\s\-\.\,\/\x27]+)/),a.timePartDelimiter=n.stoken(":"),a.whiteSpace=n.rtoken(/^\s*/),a.generalDelimiter=n.rtoken(/^(([\s\,]|at|on)+)/);var r={};a.ctoken=function(e){var t=r[e];if(!t){for(var a=Date.CultureInfo.regexPatterns,o=e.split(/\s+/),i=[],s=0;s<o.length;s++)i.push(n.replace(n.rtoken(a[o[s]]),o[s]));t=r[e]=n.any.apply(null,i)}return t},a.ctoken2=function(e){return n.rtoken(Date.CultureInfo.regexPatterns[e])},a.h=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),o.hour)),a.hh=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2])/),o.hour)),a.H=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),o.hour)),a.HH=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3])/),o.hour)),a.m=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),o.minute)),a.mm=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),o.minute)),a.s=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),o.second)),a.ss=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),o.second)),a.hms=n.cache(n.sequence([a.H,a.mm,a.ss],a.timePartDelimiter)),a.t=n.cache(n.process(a.ctoken2("shortMeridian"),o.meridian)),a.tt=n.cache(n.process(a.ctoken2("longMeridian"),o.meridian)),a.z=n.cache(n.process(n.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),o.timezone)),a.zz=n.cache(n.process(n.rtoken(/^(\+|\-)\s*\d\d\d\d/),o.timezone)),a.zzz=n.cache(n.process(a.ctoken2("timezone"),o.timezone)),a.timeSuffix=n.each(n.ignore(a.whiteSpace),n.set([a.tt,a.zzz])),a.time=n.each(n.optional(n.ignore(n.stoken("T"))),a.hms,a.timeSuffix),a.d=n.cache(n.process(n.each(n.rtoken(/^([0-2]\d|3[0-1]|\d)/),n.optional(a.ctoken2("ordinalSuffix"))),o.day)),a.dd=n.cache(n.process(n.each(n.rtoken(/^([0-2]\d|3[0-1])/),n.optional(a.ctoken2("ordinalSuffix"))),o.day)),a.ddd=a.dddd=n.cache(n.process(a.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),a.M=n.cache(n.process(n.rtoken(/^(1[0-2]|0\d|\d)/),o.month)),a.MM=n.cache(n.process(n.rtoken(/^(1[0-2]|0\d)/),o.month)),a.MMM=a.MMMM=n.cache(n.process(a.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),o.month)),a.y=n.cache(n.process(n.rtoken(/^(\d\d?)/),o.year)),a.yy=n.cache(n.process(n.rtoken(/^(\d\d)/),o.year)),a.yyy=n.cache(n.process(n.rtoken(/^(\d\d?\d?\d?)/),o.year)),a.yyyy=n.cache(n.process(n.rtoken(/^(\d\d\d\d)/),o.year)),t=function(){return n.each(n.any.apply(null,arguments),n.not(a.ctoken2("timeContext")))},a.day=t(a.d,a.dd),a.month=t(a.M,a.MMM),a.year=t(a.yyyy,a.yy),a.orientation=n.process(a.ctoken("past future"),function(e){return function(){this.orient=e}}),a.operator=n.process(a.ctoken("add subtract"),function(e){return function(){this.operator=e}}),a.rday=n.process(a.ctoken("yesterday tomorrow today now"),o.rday),a.unit=n.process(a.ctoken("minute hour day week month year"),function(e){return function(){this.unit=e}}),a.value=n.process(n.rtoken(/^\d\d?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),a.expression=n.set([a.rday,a.operator,a.value,a.unit,a.orientation,a.ddd,a.MMM]),t=function(){return n.set(arguments,a.datePartDelimiter)},a.mdy=t(a.ddd,a.month,a.day,a.year),a.ymd=t(a.ddd,a.year,a.month,a.day),a.dmy=t(a.ddd,a.day,a.month,a.year),a.date=function(e){return(a[Date.CultureInfo.dateElementOrder]||a.mdy).call(this,e)},a.format=n.process(n.many(n.any(n.process(n.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(a[e])return a[e];throw Date.Parsing.Exception(e)}),n.process(n.rtoken(/^[^dMyhHmstz]+/),function(e){return n.ignore(n.stoken(e))}))),function(e){return n.process(n.each.apply(null,e),o.finishExact)});var i={},s=function(e){return i[e]=i[e]||a.format(e)[0]};a.formats=function(e){if(e instanceof Array){for(var t=[],a=0;a<e.length;a++)t.push(s(e[a]));return n.any.apply(null,t)}return s(e)},a._formats=a.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]),a._start=n.process(n.set([a.date,a.time,a.expression],a.generalDelimiter,a.whiteSpace),o.finish),a.start=function(e){try{var t=a._formats.call({},e);if(0===t[1].length)return t}catch(n){}return a._start.call({},e)}}(),Date._parse=Date.parse,Date.parse=function(e){var t=null;if(!e)return null;try{t=Date.Grammar.start.call({},e)}catch(n){return null}return 0===t[1].length?t[0]:null},Date.getParseFunction=function(e){var t=Date.Grammar.formats(e);return function(e){var n=null;try{n=t.call({},e)}catch(a){return null}return 0===n[1].length?n[0]:null}},Date.parseExact=function(e,t){return Date.getParseFunction(t)(e)},angular.module("rr").controller("MainCtrl",["$scope","$http","debounce",function(e,t){e.selectedCuisine="",e.cuisines=[],e.selectedDistance="",e.distances=["Walking","Driving"],e.rest1={},e.rest2={},e.change="",e.selectRests,e.lat,e.longi,e.initialize,e.restaurantArray;var n,a,o,r="RS2U4S0ERDPWHVWPBCGMGSYC2SZ13YS5FF4X4HEXHQTHKFS0",i="5LN5C5XWFLWIFOTS2PBYZZRLNWBSL5NJFPNXG5VYVUTAM4AV";o=function(o){n=o.status,e.lat=o.lat,e.longi=o.lon,a="https://api.foursquare.com/v2/venues/search?intent=browse&near="+e.lat+","+e.longi+"&radius=26400&categoryId=4d4b7105d754a06374d81259&query=Restaurant&client_id="+r+"&client_secret="+i+"&v=20140814",t({method:"GET",url:a}).success(function(t){function n(e){var t,n=e.length,a=[],o={};for(t=0;n>t;t++)o[e[t]]=0;for(t in o)a.push(t);return a}e.restaurantArray=t.response.venues,e.selectRests=function(t){console.log(t);var n=Math.floor(Math.random()*t.length);console.log("random",n),e.rest1=t[n],console.log("rest1 in selectRests",e.rest1);var a=Math.floor(Math.random()*t.length);if(n!=a)e.rest2=t[a];else{for(;n==a&&t.length>1;)a=Math.floor(Math.random()*t.length);e.rest2=t[a]}},e.selectRests(e.restaurantArray);for(var a=0;a<e.restaurantArray.length;a++)e.cuisines.push(e.restaurantArray[a].categories[0].shortName);e.cuisines=n(e.cuisines),console.log(e.cuisines),e.changeCuisine=function(t){if(_.contains(e.cuisines,t)){var n=e.restaurantArray;console.log("hitting change cuisine"),console.log("selected cuisine ",t),console.log("empty cuisines",e.cuisines),n=_.filter(e.restaurantArray,function(e){return e.categories[0].shortName==t}),e.selectRests(n),n=e.restaurantArray}},e.changeDistance=function(){},console.log(e.lat)}).error(function(){})},t({method:"GET",url:"http://ip-api.com/json"}).success(function(e){o(e)}).error(function(){}),e.initialize=function(e){{var t=new google.maps.LatLng(e.location.lat,e.location.lng),n={center:t,zoom:15},a=new google.maps.Map(document.getElementById("mapbox"),n);new google.maps.Marker({position:t,map:a,title:e.name})}}}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function a(a,o){function r(e,t){return e.map(function(e,n){var a,o,r={};return r[c]=e,a=u(t,r),o=h(t,r)||n,{label:a,value:o}})}var i={},s=angular.extend({},e,o);i.$values=[];var l,u,c,d,f,h,m;return i.init=function(){i.$match=l=a.match(s.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],d=l[5],f=t(l[3]||""),h=t(l[2]?l[1]:c),m=t(l[7])},i.valuesFn=function(e,t){return n.when(m(e,t)).then(function(t){return i.$values=t?r(t,e):{},i.$values})},i.init(),i}return a}]}),angular.module("debounce",[]).service("debounce",["$timeout",function(e){return function(t,n,a){function o(){s=this,i=arguments;var o=function(){r=null,a||(l=t.apply(s,i))},u=a&&!r;return r&&e.cancel(r),r=e(o,n),u&&(l=t.apply(s,i)),l}var r,i,s,l;return o.cancel=function(){e.cancel(r),r=null},o}}]).directive("debounce",["debounce",function(e){return{require:"ngModel",priority:999,scope:{debounce:"@",immediate:"@"},link:function(t,n,a,o){var r,i,s=o.$render.bind(o),l=e(function(e){i=!0,o.$setViewValue(e),i=!1},parseInt(t.debounce),"true"===t.immediate);o.$render=function(){s(),l.cancel(),r=this.$viewValue},o.$parsers.unshift(function(e){return i?(r=e,e):(l(o.$viewValue),r)})}}}]),/**
 * angular-strap
 * @version v2.0.5 - 2014-08-07
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(e,t){angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab"]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var e=this.defaults={offsetTop:"auto"};this.$get=["$window","debounce","dimensions",function(t,n,a){function o(o,s){function l(e,t,n){var a=u(),o=c();return $>=a?"top":null!==e&&a+e<=t.top?"middle":null!==y&&t.top+n+p>=o-y?"bottom":"middle"}function u(){return h[0]===t?t.pageYOffset:h[0]===t}function c(){return h[0]===t?t.document.body.scrollHeight:h[0].scrollHeight}var d={},f=angular.extend({},e,s),h=f.target,m="affix affix-top affix-bottom",p=0,g=0,$=0,y=0,v=null,b=null,w=o.parent();if(f.offsetParent)if(f.offsetParent.match(/^\d+$/))for(var D=0;D<1*f.offsetParent-1;D++)w=w.parent();else w=angular.element(f.offsetParent);return d.init=function(){d.$parseOffsets(),g=a.offset(o[0]).top+p,h.on("scroll",d.checkPosition),h.on("click",d.checkPositionWithEventLoop),i.on("resize",d.$debouncedOnResize),d.checkPosition(),d.checkPositionWithEventLoop()},d.destroy=function(){h.off("scroll",d.checkPosition),h.off("click",d.checkPositionWithEventLoop),i.off("resize",d.$debouncedOnResize)},d.checkPositionWithEventLoop=function(){setTimeout(d.checkPosition,1)},d.checkPosition=function(){var e=u(),t=a.offset(o[0]),n=a.height(o[0]),i=l(b,t,n);v!==i&&(v=i,o.removeClass(m).addClass("affix"+("middle"!==i?"-"+i:"")),"top"===i?(b=null,o.css("position",f.offsetParent?"":"relative"),o.css("top","")):"bottom"===i?(b=f.offsetUnpin?-(1*f.offsetUnpin):t.top-e,o.css("position",f.offsetParent?"":"relative"),o.css("top",f.offsetParent?"":r[0].offsetHeight-y-n-g+"px")):(b=null,o.css("position","fixed"),o.css("top",p+"px")))},d.$onResize=function(){d.$parseOffsets(),d.checkPosition()},d.$debouncedOnResize=n(d.$onResize,50),d.$parseOffsets=function(){o.css("position",f.offsetParent?"":"relative"),f.offsetTop&&("auto"===f.offsetTop&&(f.offsetTop="+0"),f.offsetTop.match(/^[-+]\d+$/)?(p=1*-f.offsetTop,$=f.offsetParent?a.offset(w[0]).top+1*f.offsetTop:a.offset(o[0]).top-a.css(o[0],"marginTop",!0)+1*f.offsetTop):$=1*f.offsetTop),f.offsetBottom&&(y=f.offsetParent&&f.offsetBottom.match(/^[-+]\d+$/)?c()-(a.offset(w[0]).top+a.height(w[0]))+1*f.offsetBottom+1:1*f.offsetBottom)},d.init(),d}var r=angular.element(t.document.body),i=angular.element(t);return o}]}).directive("bsAffix",["$affix","$window",function(e,t){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(n,a,o,r){var i={scope:n,offsetTop:"auto",target:r?r.$element:angular.element(t)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin"],function(e){angular.isDefined(o[e])&&(i[e]=o[e])});var s=e(a,i);n.$on("$destroy",function(){i=null,s=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(e){this.$element=e}]}}),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var e=this.defaults={animation:"am-fade",prefixClass:"alert",placement:null,template:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(t,n){function a(a){var o={},r=angular.extend({},e,a);o=t(r),o.$scope.dismissable=!!r.dismissable,r.type&&(o.$scope.type=r.type);var i=o.show;return r.duration&&(o.show=function(){i(),n(function(){o.hide()},1e3*r.duration)}),o}return a}]}).directive("bsAlert",["$window","$location","$sce","$alert",function(e,t,n,a){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,t,o){var r={scope:e,element:t,show:!1};angular.forEach(["template","placement","keyboard","html","container","animation","duration","dismissable"],function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),angular.forEach(["title","content","type"],function(t){o[t]&&o.$observe(t,function(a){e[t]=n.trustAsHtml(a)})}),o.bsAlert&&e.$watch(o.bsAlert,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var i=a(r);t.on(o.trigger||"click",i.toggle),e.$on("$destroy",function(){i.destroy(),r=null,i=null})}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var e=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",placement:"right",template:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(t){function n(n){var a={},o=angular.extend({},e,n);return a=t(o)}return n}]}).directive("bsAside",["$window","$sce","$aside",function(e,t,n){return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",scope:!0,link:function(e,a,o){var r={scope:e,element:a,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),angular.forEach(["title","content"],function(n){o[n]&&o.$observe(n,function(a){e[n]=t.trustAsHtml(a)})}),o.bsAside&&e.$watch(o.bsAside,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var i=n(r);a.on(o.trigger||"click",i.toggle),e.$on("$destroy",function(){i.destroy(),r=null,i=null})}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var e=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:e}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="checkbox"]');angular.forEach(n,function(e){var n=angular.element(e);n.attr("bs-checkbox",""),n.attr("ng-model",t.ngModel+"."+n.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(e,t){var n=e.defaults,a=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,o,r,i){var s=n,l="INPUT"===o[0].nodeName,u=l?o.parent():o,c=angular.isDefined(r.trueValue)?r.trueValue:!0;a.test(r.trueValue)&&(c=e.$eval(r.trueValue));var d=angular.isDefined(r.falseValue)?r.falseValue:!1;a.test(r.falseValue)&&(d=e.$eval(r.falseValue));var f="boolean"!=typeof c||"boolean"!=typeof d;f&&(i.$parsers.push(function(e){return e?c:d}),e.$watch(r.ngModel,function(){i.$render()})),i.$render=function(){var e=angular.equals(i.$modelValue,c);t(function(){l&&(o[0].checked=e),u.toggleClass(s.activeClass,e)})},o.bind(s.toggleEvent,function(){e.$apply(function(){l||i.$setViewValue(!u.hasClass("active")),f||i.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(e,t){e.attr("data-toggle","buttons"),e.removeAttr("ng-model");var n=e[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(e){angular.element(e).attr("bs-radio",""),angular.element(e).attr("ng-model",t.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(e,t){var n=e.defaults,a=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,o,r,i){var s=n,l="INPUT"===o[0].nodeName,u=l?o.parent():o,c=a.test(r.value)?e.$eval(r.value):r.value;i.$render=function(){var e=angular.equals(i.$modelValue,c);t(function(){l&&(o[0].checked=e),u.toggleClass(s.activeClass,e)})},o.bind(s.toggleEvent,function(){e.$apply(function(){i.$setViewValue(c),i.$render()})})}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",template:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",modelDateFormat:null,dayFormat:"dd",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","datepickerViews","$tooltip",function(t,n,a,o,r,i,s,l){function u(t,n,a){function o(e){e.selected=i.$isSelected(e.date)}function r(){t[0].focus()}var i=l(t,angular.extend({},e,a)),u=a.scope,f=i.$options,h=i.$scope;f.startView&&(f.startView-=f.minView);var m=s(i);i.$views=m.views;var p=m.viewDate;h.$mode=f.startView,h.$iconLeft=f.iconLeft,h.$iconRight=f.iconRight;var g=i.$views[h.$mode];h.$select=function(e){i.select(e)},h.$selectPane=function(e){i.$selectPane(e)},h.$toggleMode=function(){i.setMode((h.$mode+1)%i.$views.length)},i.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())&&(i.$date=e,g.update.call(g,e)),i.$build(!0)},i.updateDisabledDates=function(e){f.disabledDateRanges=e;for(var t=0,n=h.rows.length;n>t;t++)angular.forEach(h.rows[t],i.$setDisabledEl)},i.select=function(e,t){angular.isDate(n.$dateValue)||(n.$dateValue=new Date(e)),!h.$mode||t?(n.$setViewValue(angular.copy(e)),n.$render(),f.autoclose&&!t&&i.hide(!0)):(angular.extend(p,{year:e.getFullYear(),month:e.getMonth(),date:e.getDate()}),i.setMode(h.$mode-1),i.$build())},i.setMode=function(e){h.$mode=e,g=i.$views[h.$mode],i.$build()},i.$build=function(e){e===!0&&g.built||(e!==!1||g.built)&&g.build.call(g)},i.$updateSelected=function(){for(var e=0,t=h.rows.length;t>e;e++)angular.forEach(h.rows[e],o)},i.$isSelected=function(e){return g.isSelected(e)},i.$setDisabledEl=function(e){e.disabled=g.isDisabled(e.date)},i.$selectPane=function(e){var t=g.steps,n=new Date(Date.UTC(p.year+(t.year||0)*e,p.month+(t.month||0)*e,p.date+(t.day||0)*e));angular.extend(p,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),i.$build()},i.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),d){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},i.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return h.$mode?h.$apply(function(){i.setMode(h.$mode-1)}):i.hide(!0);g.onKeyDown(e),u.$digest()}};var $=i.init;i.init=function(){return c&&f.useNative?(t.prop("type","date"),void t.css("-webkit-appearance","textfield")):(d&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",r)),void $())};var y=i.destroy;i.destroy=function(){c&&f.useNative&&t.off("click",r),y()};var v=i.show;i.show=function(){v(),setTimeout(function(){i.$element.on(d?"touchstart":"mousedown",i.$onMouseDown),f.keyboard&&t.on("keydown",i.$onKeyDown)})};var b=i.hide;return i.hide=function(e){i.$element.off(d?"touchstart":"mousedown",i.$onMouseDown),f.keyboard&&t.off("keydown",i.$onKeyDown),b(e)},i}var c=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),d="createTouch"in t.document&&c;return e.lang||(e.lang=r.id),u.defaults=e,u}]}).directive("bsDatepicker",["$window","$parse","$q","$locale","dateFilter","$datepicker","$dateParser","$timeout",function(e,t,n,a,o,r,i){var s=(r.defaults,/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent)),l=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};return{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){function u(e){return e&&e.length?e:null}var c={scope:e,controller:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","dateType","dateFormat","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled"],function(e){angular.isDefined(n[e])&&(c[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){d&&angular.isDefined(e)&&(angular.isString(e)&&(e=e.match(",?(datepicker),?")),e===!0?d.show():d.hide())}),s&&c.useNative&&(c.dateFormat="yyyy-MM-dd");var d=r(t,a,c);c=d.$options,angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){if("today"===t){var n=new Date;d.$options[e]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()+("maxDate"===e?1:0),0,0,0,"minDate"===e?0:-1)}else d.$options[e]=angular.isString(t)&&t.match(/^".+"$/)?+new Date(t.substr(1,t.length-2)):l(t)?+new Date(parseInt(t,10)):angular.isString(t)&&0===t.length?"maxDate"===e?1/0:-1/0:+new Date(t);!isNaN(d.$options[e])&&d.$build(!1)})}),e.$watch(n.ngModel,function(){d.update(a.$dateValue)},!0),angular.isDefined(n.disabledDates)&&e.$watch(n.disabledDates,function(e,t){e=u(e),t=u(t),e!==t&&d.updateDisabledDates(e)});var f=i({format:c.dateFormat,lang:c.lang,strict:c.strictFormat});a.$parsers.unshift(function(e){if(!e)return void a.$setValidity("date",!0);var t=f.parse(e,a.$dateValue);if(!t||isNaN(t.getTime()))return void a.$setValidity("date",!1);var n=isNaN(d.$options.minDate)||t.getTime()>=d.$options.minDate,r=isNaN(d.$options.maxDate)||t.getTime()<=d.$options.maxDate,i=n&&r;return a.$setValidity("date",i),a.$setValidity("min",n),a.$setValidity("max",r),i&&(a.$dateValue=t),"string"===c.dateType?o(t,c.modelDateFormat||c.dateFormat):"number"===c.dateType?a.$dateValue.getTime():"iso"===c.dateType?a.$dateValue.toISOString():new Date(a.$dateValue)}),a.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===c.dateType?f.parse(e,null,c.modelDateFormat):new Date(e),a.$dateValue=t,a.$dateValue}),a.$render=function(){t.val(!a.$dateValue||isNaN(a.$dateValue.getTime())?"":o(a.$dateValue,c.dateFormat))},e.$on("$destroy",function(){d&&d.destroy(),c=null,d=null})}}}]).provider("datepickerViews",function(){function e(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n}function t(e,t){return(e%t+t)%t}this.defaults={dayFormat:"dd",daySplit:7},this.$get=["$locale","$sce","dateFilter",function(n,a,o){return function(r){var i=r.$scope,s=r.$options,l=n.DATETIME_FORMATS.SHORTDAY,u=l.slice(s.startWeek).concat(l.slice(0,s.startWeek)),c=a.trustAsHtml('<th class="dow text-center">'+u.join('</th><th class="dow text-center">')+"</th>"),d=r.$date||(s.startDate?new Date(s.startDate):new Date),f={year:d.getFullYear(),month:d.getMonth(),date:d.getDate()},h=(6e4*d.getTimezoneOffset(),[{format:s.dayFormat,split:7,steps:{month:1},update:function(e,t){!this.built||t||e.getFullYear()!==f.year||e.getMonth()!==f.month?(angular.extend(f,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getDate()!==f.date&&(f.date=r.$date.getDate(),r.$updateSelected())},build:function(){var n=new Date(f.year,f.month,1),a=n.getTimezoneOffset(),l=new Date(+n-864e5*t(n.getDay()-s.startWeek,7)),u=l.getTimezoneOffset();u!==a&&(l=new Date(+l+6e4*(u-a)));for(var d,h=[],m=0;42>m;m++)d=new Date(l.getFullYear(),l.getMonth(),l.getDate()+m),h.push({date:d,label:o(d,this.format),selected:r.$date&&this.isSelected(d),muted:d.getMonth()!==f.month,disabled:this.isDisabled(d)});i.title=o(n,"MMMM yyyy"),i.showLabels=!0,i.labels=c,i.rows=e(h,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()&&e.getDate()===r.$date.getDate()},isDisabled:function(e){var t=e.getTime();if(t<s.minDate||t>s.maxDate)return!0;if(-1!==s.daysOfWeekDisabled.indexOf(e.getDay()))return!0;if(s.disabledDateRanges)for(var n=0;n<s.disabledDateRanges.length;n++)if(t>=s.disabledDateRanges[n].start)return t<=s.disabledDateRanges[n].end?!0:!1;return!1},onKeyDown:function(e){var t,n=r.$date.getTime();37===e.keyCode?t=new Date(n-864e5):38===e.keyCode?t=new Date(n-6048e5):39===e.keyCode?t=new Date(n+864e5):40===e.keyCode&&(t=new Date(n+6048e5)),this.isDisabled(t)||r.select(t,!0)}},{name:"month",format:"MMM",split:4,steps:{year:1},update:function(e){this.built&&e.getFullYear()===f.year?e.getMonth()!==f.month&&(angular.extend(f,{month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected()):(angular.extend(f,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build())},build:function(){for(var t,n=(new Date(f.year,0,1),[]),a=0;12>a;a++)t=new Date(f.year,a,1),n.push({date:t,label:o(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});i.title=o(t,"yyyy"),i.showLabels=!1,i.rows=e(n,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()&&e.getMonth()===r.$date.getMonth()},isDisabled:function(e){var t=+new Date(e.getFullYear(),e.getMonth()+1,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){var t=r.$date.getMonth(),n=new Date(r.$date);37===e.keyCode?n.setMonth(t-1):38===e.keyCode?n.setMonth(t-4):39===e.keyCode?n.setMonth(t+1):40===e.keyCode&&n.setMonth(t+4),this.isDisabled(n)||r.select(n,!0)}},{name:"year",format:"yyyy",split:4,steps:{year:12},update:function(e,t){!this.built||t||parseInt(e.getFullYear()/20,10)!==parseInt(f.year/20,10)?(angular.extend(f,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$build()):e.getFullYear()!==f.year&&(angular.extend(f,{year:r.$date.getFullYear(),month:r.$date.getMonth(),date:r.$date.getDate()}),r.$updateSelected())},build:function(){for(var t,n=f.year-f.year%(3*this.split),a=[],s=0;12>s;s++)t=new Date(n+s,0,1),a.push({date:t,label:o(t,this.format),selected:r.$isSelected(t),disabled:this.isDisabled(t)});i.title=a[0].label+"-"+a[a.length-1].label,i.showLabels=!1,i.rows=e(a,this.split),this.built=!0},isSelected:function(e){return r.$date&&e.getFullYear()===r.$date.getFullYear()},isDisabled:function(e){var t=+new Date(e.getFullYear()+1,0,0);return t<s.minDate||e.getTime()>s.maxDate},onKeyDown:function(e){var t=r.$date.getFullYear(),n=new Date(r.$date);37===e.keyCode?n.setYear(t-1):38===e.keyCode?n.setYear(t-4):39===e.keyCode?n.setYear(t+1):40===e.keyCode&&n.setYear(t+4),this.isDisabled(n)||r.select(n,!0)}}]);return{views:s.minView?Array.prototype.slice.call(h,s.minView):h,viewDate:f}}}]}),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var e=this.defaults={animation:"am-fade",prefixClass:"dropdown",placement:"bottom-left",template:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip",function(t,n,a){function o(t,o){function s(e){return e.target!==t[0]?e.target!==t[0]&&l.hide():void 0}var l={},u=angular.extend({},e,o);l.$scope=u.scope&&u.scope.$new()||n.$new(),l=a(t,u);var c=t.parent();l.$onKeyDown=function(e){if(/(38|40)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var t=angular.element(l.$element[0].querySelectorAll("li:not(.divider) a"));if(t.length){var n;angular.forEach(t,function(e,t){i&&i.call(e,":focus")&&(n=t)}),38===e.keyCode&&n>0?n--:40===e.keyCode&&n<t.length-1?n++:angular.isUndefined(n)&&(n=0),t.eq(n)[0].focus()}}};var d=l.show;l.show=function(){d(),setTimeout(function(){u.keyboard&&l.$element.on("keydown",l.$onKeyDown),r.on("click",s)}),c.hasClass("dropdown")&&c.addClass("open")};var f=l.hide;return l.hide=function(){u.keyboard&&l.$element.off("keydown",l.$onKeyDown),r.off("click",s),c.hasClass("dropdown")&&c.removeClass("open"),f()},l}var r=angular.element(t.document.body),i=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return o}]}).directive("bsDropdown",["$window","$location","$sce","$dropdown",function(e,t,n,a){return{restrict:"EAC",scope:!0,link:function(e,t,n){var o={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template"],function(e){angular.isDefined(n[e])&&(o[e]=n[e])}),n.bsDropdown&&e.$watch(n.bsDropdown,function(t){e.content=t},!0);var r=a(t,o);e.$on("$destroy",function(){r.destroy(),o=null,r=null})}}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(){var e=Date.prototype,t=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(n,a){var o=function(o){function r(e){var t,n=Object.keys(h),a=[],o=[],r=e;for(t=0;t<n.length;t++)if(e.split(n[t]).length>1){var i=r.search(n[t]);e=e.split(n[t]).join(""),h[n[t]]&&(a[i]=h[n[t]])}return angular.forEach(a,function(e){e&&o.push(e)}),o}function i(e){return e.replace(/\//g,"[\\/]").replace("/-/g","[-]").replace(/\./g,"[.]").replace(/\\s/g,"[\\s]")}function s(e){var t,n=Object.keys(f),a=e;for(t=0;t<n.length;t++)a=a.split(n[t]).join("${"+t+"}");for(t=0;t<n.length;t++)a=a.split("${"+t+"}").join("("+f[n[t]]+")");return e=i(e),new RegExp("^"+a+"$",["i"])}var l,u,c=angular.extend({},t,o),d={},f={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:c.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:c.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:n.DATETIME_FORMATS.DAY.join("|"),EEE:n.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:c.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:n.DATETIME_FORMATS.MONTH.join("|"),MMM:n.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:c.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:c.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},h={sss:e.setMilliseconds,ss:e.setSeconds,s:e.setSeconds,mm:e.setMinutes,m:e.setMinutes,HH:e.setHours,H:e.setHours,hh:e.setHours,h:e.setHours,dd:e.setDate,d:e.setDate,a:function(e){var t=this.getHours();return this.setHours(e.match(/pm/i)?t+12:t)},MMMM:function(e){return this.setMonth(n.DATETIME_FORMATS.MONTH.indexOf(e))},MMM:function(e){return this.setMonth(n.DATETIME_FORMATS.SHORTMONTH.indexOf(e))},MM:function(e){return this.setMonth(1*e-1)},M:function(e){return this.setMonth(1*e-1)},yyyy:e.setFullYear,yy:function(e){return this.setFullYear(2e3+1*e)},y:e.setFullYear};return d.init=function(){d.$format=n.DATETIME_FORMATS[c.format]||c.format,l=s(d.$format),u=r(d.$format)},d.isValid=function(e){return angular.isDate(e)?!isNaN(e.getTime()):l.test(e)},d.parse=function(e,t,n){angular.isDate(e)&&(e=a(e,n||d.$format));var o=n?s(n):l,i=n?r(n):u,c=o.exec(e);if(!c)return!1;for(var f=t||new Date(0,0,1),h=0;h<c.length-1;h++)i[h]&&i[h].call(f,c[h+1]);return f},d.init(),d};return o}]}]),angular.module("mgcrea.ngStrap.helpers.debounce",[]).constant("debounce",function(e,t,n){var a,o,r,i,s;return function(){r=this,o=arguments,i=new Date;var l=function(){var u=new Date-i;t>u?a=setTimeout(l,t-u):(a=null,n||(s=e.apply(r,o)))},u=n&&!a;return a||(a=setTimeout(l,t)),u&&(s=e.apply(r,o)),s}}).constant("throttle",function(e,t,n){var a,o,r,i=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:new Date,i=null,r=e.apply(a,o)};return function(){var u=new Date;s||n.leading!==!1||(s=u);var c=t-(u-s);return a=this,o=arguments,0>=c?(clearTimeout(i),i=null,s=u,r=e.apply(a,o)):i||n.trailing===!1||(i=setTimeout(l,c)),r}}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",["$document","$window",function(){var t=(angular.element,{}),n=t.nodeName=function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()};t.css=function(t,n,a){var o;return o=t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n],a===!0?parseFloat(o)||0:o},t.offset=function(t){var n=t.getBoundingClientRect(),a=t.ownerDocument;return{width:n.width||t.offsetWidth,height:n.height||t.offsetHeight,top:n.top+(e.pageYOffset||a.documentElement.scrollTop)-(a.documentElement.clientTop||0),left:n.left+(e.pageXOffset||a.documentElement.scrollLeft)-(a.documentElement.clientLeft||0)}},t.position=function(e){var o,r,i={top:0,left:0};return"fixed"===t.css(e,"position")?r=e.getBoundingClientRect():(o=a(e),r=t.offset(e),r=t.offset(e),n(o,"html")||(i=t.offset(o)),i.top+=t.css(o,"borderTopWidth",!0),i.left+=t.css(o,"borderLeftWidth",!0)),{width:e.offsetWidth,height:e.offsetHeight,top:r.top-i.top-t.css(e,"marginTop",!0),left:r.left-i.left-t.css(e,"marginLeft",!0)}};var a=function(e){var a=e.ownerDocument,o=e.offsetParent||a;if(n(o,"#document"))return a.documentElement;for(;o&&!n(o,"html")&&"static"===t.css(o,"position");)o=o.offsetParent;return o||a.documentElement};return t.height=function(e,n){var a=e.offsetHeight;return n?a+=t.css(e,"marginTop",!0)+t.css(e,"marginBottom",!0):a-=t.css(e,"paddingTop",!0)+t.css(e,"paddingBottom",!0)+t.css(e,"borderTopWidth",!0)+t.css(e,"borderBottomWidth",!0),a},t.width=function(e,n){var a=e.offsetWidth;return n?a+=t.css(e,"marginLeft",!0)+t.css(e,"marginRight",!0):a-=t.css(e,"paddingLeft",!0)+t.css(e,"paddingRight",!0)+t.css(e,"borderLeftWidth",!0)+t.css(e,"borderRightWidth",!0),a},t}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var e=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(t,n){function a(a,o){function r(e,t){return e.map(function(e,n){var a,o,r={};return r[c]=e,a=u(t,r),o=h(t,r)||n,{label:a,value:o}})}var i={},s=angular.extend({},e,o);i.$values=[];var l,u,c,d,f,h,m;return i.init=function(){i.$match=l=a.match(s.regexp),u=t(l[2]||l[1]),c=l[4]||l[6],d=l[5],f=t(l[3]||""),h=t(l[2]?l[1]:c),m=t(l[7])},i.valuesFn=function(e,t){return n.when(m(e,t)).then(function(t){return i.$values=t?r(t,e):{},i.$values})},i.init(),i}return a}]}),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,a=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,o=!!n,r=o?function(e){var t=n(e);return function(){a(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return r.supported=o,r}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var e=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",prefixClass:"modal",prefixEvent:"modal",placement:"top",template:"modal/modal.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","$sce","dimensions",function(n,a,o,r,i,s,l,u,c){function d(t){function n(e){e.target===e.currentTarget&&("static"===i.backdrop?r.focus():r.hide())}var r={},i=r.$options=angular.extend({},e,t);r.$promise=h(i.template);var s=r.$scope=i.scope&&i.scope.$new()||a.$new();i.element||i.container||(i.container="body"),m(["title","content"],function(e){i[e]&&(s[e]=c.trustAsHtml(i[e]))}),s.$hide=function(){s.$$postDigest(function(){r.hide()})},s.$show=function(){s.$$postDigest(function(){r.show()})},s.$toggle=function(){s.$$postDigest(function(){r.toggle()})},i.contentTemplate&&(r.$promise=r.$promise.then(function(e){var n=angular.element(e);return h(i.contentTemplate).then(function(e){var a=f('[ng-bind="content"]',n[0]).removeAttr("ng-bind").html(e);return t.template||a.next().remove(),n[0].outerHTML})}));var u,d,v=angular.element('<div class="'+i.prefixClass+'-backdrop"/>');return r.$promise.then(function(e){angular.isObject(e)&&(e=e.data),i.html&&(e=e.replace(y,'ng-bind-html="')),e=p.apply(e),u=o(e),r.init()}),r.init=function(){i.show&&s.$$postDigest(function(){r.show()})},r.destroy=function(){d&&(d.remove(),d=null),v&&(v.remove(),v=null),s.$destroy()},r.show=function(){s.$emit(i.prefixEvent+".show.before",r);var e;e=angular.isElement(i.container)?i.container:i.container?f(i.container):null;var t=i.container?null:i.element;d=r.$element=u(s,function(){}),d.css({display:"block"}).addClass(i.placement),i.animation&&(i.backdrop&&v.addClass(i.backdropAnimation),d.addClass(i.animation)),i.backdrop&&l.enter(v,$,null,function(){}),l.enter(d,e,t,function(){s.$emit(i.prefixEvent+".show",r)}),s.$isShown=!0,s.$$phase||s.$root&&s.$root.$$phase||s.$digest();var a=d[0];g(function(){a.focus()}),$.addClass(i.prefixClass+"-open"),i.animation&&$.addClass(i.prefixClass+"-with-"+i.animation),i.backdrop&&(d.on("click",n),v.on("click",n)),i.keyboard&&d.on("keyup",r.$onKeyUp)},r.hide=function(){s.$emit(i.prefixEvent+".hide.before",r),l.leave(d,function(){s.$emit(i.prefixEvent+".hide",r),$.removeClass(i.prefixClass+"-open"),i.animation&&$.removeClass(i.prefixClass+"-with-"+i.animation)}),i.backdrop&&l.leave(v,function(){}),s.$isShown=!1,s.$$phase||s.$root&&s.$root.$$phase||s.$digest(),i.backdrop&&(d.off("click",n),v.off("click",n)),i.keyboard&&d.off("keyup",r.$onKeyUp)},r.toggle=function(){s.$isShown?r.hide():r.show()},r.focus=function(){d[0].focus()},r.$onKeyUp=function(e){27===e.which&&r.hide()},r}function f(e,n){return angular.element((n||t).querySelectorAll(e))}function h(e){return r.when(i.get(e)||s.get(e)).then(function(t){return angular.isObject(t)?(i.put(e,t.data),t.data):t})}var m=angular.forEach,p=String.prototype.trim,g=n.requestAnimationFrame||n.setTimeout,$=angular.element(n.document.body),y=/ng-bind="/gi;return d}]}).directive("bsModal",["$window","$location","$sce","$modal",function(e,t,n,a){return{restrict:"EAC",scope:!0,link:function(e,t,o){var r={scope:e,element:t,show:!1};angular.forEach(["template","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),angular.forEach(["title","content"],function(t){o[t]&&o.$observe(t,function(a){e[t]=n.trustAsHtml(a)})}),o.bsModal&&e.$watch(o.bsModal,function(t){angular.isObject(t)?angular.extend(e,t):e.content=t},!0);var i=a(r);t.on(o.trigger||"click",i.toggle),e.$on("$destroy",function(){i.destroy(),r=null,i=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var e=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:e}}}).directive("bsNavbar",["$window","$location","$navbar",function(e,t,n){var a=n.defaults;return{restrict:"A",link:function(e,n,o){var r=angular.copy(a);angular.forEach(Object.keys(a),function(e){angular.isDefined(o[e])&&(r[e]=o[e])}),e.$watch(function(){return t.path()},function(e){var t=n[0].querySelectorAll("li["+r.routeAttr+"]");angular.forEach(t,function(t){var n=angular.element(t),a=n.attr(r.routeAttr).replace("/","\\/");r.strict&&(a="^"+a+"$");var o=new RegExp(a,["i"]);o.test(e)?n.addClass(r.activeClass):n.removeClass(r.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0};this.$get=["$tooltip",function(t){function n(n,a){var o=angular.extend({},e,a),r=t(n,o);return o.content&&(r.$scope.content=o.content),r}return n}]}).directive("bsPopover",["$window","$location","$sce","$popover",function(e,t,n,a){var o=e.requestAnimationFrame||e.setTimeout;return{restrict:"EAC",scope:!0,link:function(e,t,r){var i={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass"],function(e){angular.isDefined(r[e])&&(i[e]=r[e])}),angular.forEach(["title","content"],function(t){r[t]&&r.$observe(t,function(a,r){e[t]=n.trustAsHtml(a),angular.isDefined(r)&&o(function(){s&&s.$applyPlacement()})})}),r.bsPopover&&e.$watch(r.bsPopover,function(t,n){angular.isObject(t)?angular.extend(e,t):e.content=t,angular.isDefined(n)&&o(function(){s&&s.$applyPlacement()})},!0),r.bsShow&&e.$watch(r.bsShow,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=e.match(",?(popover),?")),e===!0?s.show():s.hide())
});var s=a(t,i);e.$on("$destroy",function(){s.destroy(),i=null,s=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var e=this.$$spies={},n=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(a,o,r,i,s,l){function u(e,t){return e[0].nodeName&&e[0].nodeName.toLowerCase()===t.toLowerCase()}function c(o){var c=angular.extend({},n,o);c.element||(c.element=h);var m=u(c.element,"body"),p=m?d:c.element,g=m?"window":c.id;if(e[g])return e[g].$$count++,e[g];var $,y,v,b,w,D,k,M,x={},S=x.$trackedElements=[],T=[];return x.init=function(){this.$$count=1,b=s(this.checkPosition,c.debounce),w=l(this.checkPosition,c.throttle),p.on("click",this.checkPositionWithEventLoop),d.on("resize",b),p.on("scroll",w),D=s(this.checkOffsets,c.debounce),$=r.$on("$viewContentLoaded",D),y=r.$on("$includeContentLoaded",D),D(),g&&(e[g]=x)},x.destroy=function(){this.$$count--,this.$$count>0||(p.off("click",this.checkPositionWithEventLoop),d.off("resize",b),p.off("scroll",b),$(),y(),g&&delete e[g])},x.checkPosition=function(){if(T.length){if(M=(m?a.pageYOffset:p.prop("scrollTop"))||0,k=Math.max(a.innerHeight,f.prop("clientHeight")),M<T[0].offsetTop&&v!==T[0].target)return x.$activateElement(T[0]);for(var e=T.length;e--;)if(!angular.isUndefined(T[e].offsetTop)&&null!==T[e].offsetTop&&v!==T[e].target&&!(M<T[e].offsetTop||T[e+1]&&M>T[e+1].offsetTop))return x.$activateElement(T[e])}},x.checkPositionWithEventLoop=function(){setTimeout(this.checkPosition,1)},x.$activateElement=function(e){if(v){var t=x.$getTrackedElement(v);t&&(t.source.removeClass("active"),u(t.source,"li")&&u(t.source.parent().parent(),"li")&&t.source.parent().parent().removeClass("active"))}v=e.target,e.source.addClass("active"),u(e.source,"li")&&u(e.source.parent().parent(),"li")&&e.source.parent().parent().addClass("active")},x.$getTrackedElement=function(e){return S.filter(function(t){return t.target===e})[0]},x.checkOffsets=function(){angular.forEach(S,function(e){var n=t.querySelector(e.target);e.offsetTop=n?i.offset(n).top:null,c.offset&&null!==e.offsetTop&&(e.offsetTop-=1*c.offset)}),T=S.filter(function(e){return null!==e.offsetTop}).sort(function(e,t){return e.offsetTop-t.offsetTop}),b()},x.trackElement=function(e,t){S.push({target:e,source:t})},x.untrackElement=function(e,t){for(var n,a=S.length;a--;)if(S[a].target===e&&S[a].source===t){n=a;break}S=S.splice(n,1)},x.activate=function(e){S[e].addClass("active")},x.init(),x}var d=angular.element(a),f=angular.element(o.prop("documentElement")),h=angular.element(a.document.body);return c}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(e,t,n,a){return{restrict:"EAC",link:function(e,t,n){var o={scope:e};angular.forEach(["offset","target"],function(e){angular.isDefined(n[e])&&(o[e]=n[e])});var r=a(o);r.trackElement(o.target,t),e.$on("$destroy",function(){r.untrackElement(o.target,t),r.destroy(),o=null,r=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(){return{restrict:"A",compile:function(e){var t=e[0].querySelectorAll("li > a[href]");angular.forEach(t,function(e){var t=angular.element(e);t.parent().attr("bs-scrollspy","").attr("data-target",t.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var e=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",template:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok"};this.$get=["$window","$document","$rootScope","$tooltip",function(t,n,a,o){function r(t,n,a){var r={},i=angular.extend({},e,a);r=o(t,i);var l=r.$scope;l.$matches=[],l.$activeIndex=0,l.$isMultiple=i.multiple,l.$showAllNoneButtons=i.allNoneButtons&&i.multiple,l.$iconCheckmark=i.iconCheckmark,l.$activate=function(e){l.$$postDigest(function(){r.activate(e)})},l.$select=function(e){l.$$postDigest(function(){r.select(e)})},l.$isVisible=function(){return r.$isVisible()},l.$isActive=function(e){return r.$isActive(e)},l.$selectAll=function(){for(var e=0;e<l.$matches.length;e++)l.$isActive(e)||l.$select(e)},l.$selectNone=function(){for(var e=0;e<l.$matches.length;e++)l.$isActive(e)&&l.$select(e)},r.update=function(e){l.$matches=e,r.$updateActiveIndex()},r.activate=function(e){return i.multiple?(l.$activeIndex.sort(),r.$isActive(e)?l.$activeIndex.splice(l.$activeIndex.indexOf(e),1):l.$activeIndex.push(e),i.sort&&l.$activeIndex.sort()):l.$activeIndex=e,l.$activeIndex},r.select=function(e){var t=l.$matches[e].value;l.$apply(function(){r.activate(e),i.multiple?n.$setViewValue(l.$activeIndex.map(function(e){return l.$matches[e].value})):(n.$setViewValue(t),r.hide())}),l.$emit(i.prefixEvent+".select",t,e)},r.$updateActiveIndex=function(){n.$modelValue&&l.$matches.length?l.$activeIndex=i.multiple&&angular.isArray(n.$modelValue)?n.$modelValue.map(function(e){return r.$getIndex(e)}):r.$getIndex(n.$modelValue):l.$activeIndex>=l.$matches.length&&(l.$activeIndex=i.multiple?[]:0)},r.$isVisible=function(){return i.minLength&&n?l.$matches.length&&n.$viewValue.length>=i.minLength:l.$matches.length},r.$isActive=function(e){return i.multiple?-1!==l.$activeIndex.indexOf(e):l.$activeIndex===e},r.$getIndex=function(e){var t=l.$matches.length,n=t;if(t){for(n=t;n--&&l.$matches[n].value!==e;);if(!(0>n))return n}},r.$onMouseDown=function(e){if(e.preventDefault(),e.stopPropagation(),s){var t=angular.element(e.target);t.triggerHandler("click")}},r.$onKeyDown=function(e){if(/(9|13|38|40)/.test(e.keyCode)){if(e.preventDefault(),e.stopPropagation(),!i.multiple&&(13===e.keyCode||9===e.keyCode))return r.select(l.$activeIndex);38===e.keyCode&&l.$activeIndex>0?l.$activeIndex--:40===e.keyCode&&l.$activeIndex<l.$matches.length-1?l.$activeIndex++:angular.isUndefined(l.$activeIndex)&&(l.$activeIndex=0),l.$digest()}};var u=r.show;r.show=function(){u(),i.multiple&&r.$element.addClass("select-multiple"),setTimeout(function(){r.$element.on(s?"touchstart":"mousedown",r.$onMouseDown),i.keyboard&&t.on("keydown",r.$onKeyDown)})};var c=r.hide;return r.hide=function(){r.$element.off(s?"touchstart":"mousedown",r.$onMouseDown),i.keyboard&&t.off("keydown",r.$onKeyDown),c(!0)},r}var i=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),s="createTouch"in t.document&&i;return r.defaults=e,r}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(e,t,n,a,o){var r=a.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,i){var s={scope:e};if(angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","placeholder","multiple","allNoneButtons","maxLength","maxLengthHtml"],function(e){angular.isDefined(n[e])&&(s[e]=n[e])}),"select"===t[0].nodeName.toLowerCase()){var l=t;l.css("display","none"),t=angular.element('<button type="button" class="btn btn-default"></button>'),l.after(t)}var u=o(n.ngOptions),c=a(t,i,s),d=u.$match[7].replace(/\|.+/,"").trim();e.$watch(d,function(){u.valuesFn(e,i).then(function(e){c.update(e),i.$render()})},!0),e.$watch(n.ngModel,function(){c.$updateActiveIndex(),i.$render()},!0),i.$render=function(){var e,a;s.multiple&&angular.isArray(i.$modelValue)?(e=i.$modelValue.map(function(e){return a=c.$getIndex(e),angular.isDefined(a)?c.$scope.$matches[a].label:!1}).filter(angular.isDefined),e=e.length>(s.maxLength||r.maxLength)?e.length+" "+(s.maxLengthHtml||r.maxLengthHtml):e.join(", ")):(a=c.$getIndex(i.$modelValue),e=angular.isDefined(a)?c.$scope.$matches[a].label:!1),t.html((e?e:n.placeholder||r.placeholder)+r.caretHtml)},e.$on("$destroy",function(){c.destroy(),s=null,c=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).run(["$templateCache",function(e){e.put("$pane","{{pane.content}}")}]).provider("$tab",function(){var e=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html"};this.$get=function(){return{defaults:e}}}).directive("bsTabs",["$window","$animate","$tab",function(e,t,n){var a=n.defaults;return{restrict:"EAC",scope:!0,require:"?ngModel",templateUrl:function(e,t){return t.template||a.template},link:function(e,t,n,o){var r=a;angular.forEach(["animation"],function(e){angular.isDefined(n[e])&&(r[e]=n[e])}),n.bsTabs&&e.$watch(n.bsTabs,function(t){e.panes=t},!0),t.addClass("tabs"),r.animation&&t.addClass(r.animation),e.active=e.activePane=0,e.setActive=function(t){e.active=t,o&&o.$setViewValue(t)},o&&(o.$render=function(){e.active=1*o.$modelValue})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var e=this.defaults={animation:"am-fade",prefixClass:"timepicker",placement:"bottom-left",template:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:1/0,length:5,hourStep:1,minuteStep:5,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$locale","dateFilter","$tooltip",function(t,n,a,o,r,i,s){function l(t,n,a){function o(e,n){if(t[0].createTextRange){var a=t[0].createTextRange();a.collapse(!0),a.moveStart("character",e),a.moveEnd("character",n),a.select()}else t[0].setSelectionRange?t[0].setSelectionRange(e,n):angular.isUndefined(t[0].selectionStart)&&(t[0].selectionStart=e,t[0].selectionEnd=n)}function l(){t[0].focus()}var d=s(t,angular.extend({},e,a)),f=a.scope,h=d.$options,m=d.$scope,p=0,g=n.$dateValue||new Date,$={hour:g.getHours(),meridian:g.getHours()<12,minute:g.getMinutes(),second:g.getSeconds(),millisecond:g.getMilliseconds()},y=r.DATETIME_FORMATS[h.timeFormat]||h.timeFormat,v=/(h+)([:\.])?(m+)[ ]?(a?)/i.exec(y).slice(1);m.$iconUp=h.iconUp,m.$iconDown=h.iconDown,m.$select=function(e,t){d.select(e,t)},m.$moveIndex=function(e,t){d.$moveIndex(e,t)},m.$switchMeridian=function(e){d.switchMeridian(e)},d.update=function(e){angular.isDate(e)&&!isNaN(e.getTime())?(d.$date=e,angular.extend($,{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}),d.$build()):d.$isBuilt||d.$build()},d.select=function(e,t,a){(!n.$dateValue||isNaN(n.$dateValue.getTime()))&&(n.$dateValue=new Date(1970,0,1)),angular.isDate(e)||(e=new Date(e)),0===t?n.$dateValue.setHours(e.getHours()):1===t&&n.$dateValue.setMinutes(e.getMinutes()),n.$setViewValue(n.$dateValue),n.$render(),h.autoclose&&!a&&d.hide(!0)},d.switchMeridian=function(e){var t=(e||n.$dateValue).getHours();n.$dateValue.setHours(12>t?t+12:t-12),n.$setViewValue(n.$dateValue),n.$render()},d.$build=function(){var e,t,n=m.midIndex=parseInt(h.length/2,10),a=[];for(e=0;e<h.length;e++)t=new Date(1970,0,1,$.hour-(n-e)*h.hourStep),a.push({date:t,label:i(t,v[0]),selected:d.$date&&d.$isSelected(t,0),disabled:d.$isDisabled(t,0)});var o,r=[];for(e=0;e<h.length;e++)o=new Date(1970,0,1,0,$.minute-(n-e)*h.minuteStep),r.push({date:o,label:i(o,v[2]),selected:d.$date&&d.$isSelected(o,1),disabled:d.$isDisabled(o,1)});var s=[];for(e=0;e<h.length;e++)s.push([a[e],r[e]]);m.rows=s,m.showAM=!!v[3],m.isAM=(d.$date||a[n].date).getHours()<12,m.timeSeparator=v[1],d.$isBuilt=!0},d.$isSelected=function(e,t){return d.$date?0===t?e.getHours()===d.$date.getHours():1===t?e.getMinutes()===d.$date.getMinutes():void 0:!1},d.$isDisabled=function(e,t){var n;return 0===t?n=e.getTime()+6e4*$.minute:1===t&&(n=e.getTime()+36e5*$.hour),n<1*h.minTime||n>1*h.maxTime},m.$arrowAction=function(e,t){"picker"===h.arrowBehavior?d.$setTimeByStep(e,t):d.$moveIndex(e,t)},d.$setTimeByStep=function(e,t){var n=new Date(d.$date),a=n.getHours(),o=(i(n,"h").length,n.getMinutes());i(n,"mm").length,0===t?n.setHours(a-parseInt(h.hourStep,10)*e):n.setMinutes(o-parseInt(h.minuteStep,10)*e),d.select(n,t,!0),f.$digest()},d.$moveIndex=function(e,t){var n;0===t?(n=new Date(1970,0,1,$.hour+e*h.length,$.minute),angular.extend($,{hour:n.getHours()})):1===t&&(n=new Date(1970,0,1,$.hour,$.minute+e*h.length*h.minuteStep),angular.extend($,{minute:n.getMinutes()})),d.$build()},d.$onMouseDown=function(e){if("input"!==e.target.nodeName.toLowerCase()&&e.preventDefault(),e.stopPropagation(),c){var t=angular.element(e.target);"button"!==t[0].nodeName.toLowerCase()&&(t=t.parent()),t.triggerHandler("click")}},d.$onKeyDown=function(e){if(/(38|37|39|40|13)/.test(e.keyCode)&&!e.shiftKey&&!e.altKey){if(e.preventDefault(),e.stopPropagation(),13===e.keyCode)return d.hide(!0);var t=new Date(d.$date),n=t.getHours(),a=i(t,"h").length,r=t.getMinutes(),s=i(t,"mm").length,l=/(37|39)/.test(e.keyCode),u=2+1*!!v[3];l&&(37===e.keyCode?p=1>p?u-1:p-1:39===e.keyCode&&(p=u-1>p?p+1:0));var c=[0,a];0===p?(38===e.keyCode?t.setHours(n-parseInt(h.hourStep,10)):40===e.keyCode&&t.setHours(n+parseInt(h.hourStep,10)),c=[0,a]):1===p?(38===e.keyCode?t.setMinutes(r-parseInt(h.minuteStep,10)):40===e.keyCode&&t.setMinutes(r+parseInt(h.minuteStep,10)),c=[a+1,a+1+s]):2===p&&(l||d.switchMeridian(),c=[a+1+s+1,a+1+s+3]),d.select(t,p,!0),o(c[0],c[1]),f.$digest()}};var b=d.init;d.init=function(){return u&&h.useNative?(t.prop("type","time"),void t.css("-webkit-appearance","textfield")):(c&&(t.prop("type","text"),t.attr("readonly","true"),t.on("click",l)),void b())};var w=d.destroy;d.destroy=function(){u&&h.useNative&&t.off("click",l),w()};var D=d.show;d.show=function(){D(),setTimeout(function(){d.$element.on(c?"touchstart":"mousedown",d.$onMouseDown),h.keyboard&&t.on("keydown",d.$onKeyDown)})};var k=d.hide;return d.hide=function(e){d.$element.off(c?"touchstart":"mousedown",d.$onMouseDown),h.keyboard&&t.off("keydown",d.$onKeyDown),k(e)},d}var u=(angular.element(t.document.body),/(ip(a|o)d|iphone|android)/gi.test(t.navigator.userAgent)),c="createTouch"in t.document&&u;return e.lang||(e.lang=r.id),l.defaults=e,l}]}).directive("bsTimepicker",["$window","$parse","$q","$locale","dateFilter","$timepicker","$dateParser","$timeout",function(e,t,n,a,o,r,i){var s=r.defaults,l=/(ip(a|o)d|iphone|android)/gi.test(e.navigator.userAgent);return e.requestAnimationFrame||e.setTimeout,{restrict:"EAC",require:"ngModel",link:function(e,t,n,a){var u={scope:e,controller:a};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","autoclose","timeType","timeFormat","modelTimeFormat","useNative","hourStep","minuteStep","length","arrowBehavior"],function(e){angular.isDefined(n[e])&&(u[e]=n[e])}),n.bsShow&&e.$watch(n.bsShow,function(e){c&&angular.isDefined(e)&&(angular.isString(e)&&(e=e.match(",?(timepicker),?")),e===!0?c.show():c.hide())}),l&&(u.useNative||s.useNative)&&(u.timeFormat="HH:mm");var c=r(t,a,u);u=c.$options;var d=i({format:u.timeFormat,lang:u.lang});angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(n[e])&&n.$observe(e,function(t){c.$options[e]="now"===t?(new Date).setFullYear(1970,0,1):angular.isString(t)&&t.match(/^".+"$/)?+new Date(t.substr(1,t.length-2)):d.parse(t,new Date(1970,0,1,0)),!isNaN(c.$options[e])&&c.$build()})}),e.$watch(n.ngModel,function(){c.update(a.$dateValue)},!0),a.$parsers.unshift(function(e){if(!e)return void a.$setValidity("date",!0);var t=d.parse(e,a.$dateValue);if(!t||isNaN(t.getTime()))a.$setValidity("date",!1);else{var n=t.getTime()>=u.minTime&&t.getTime()<=u.maxTime;a.$setValidity("date",n),n&&(a.$dateValue=t)}return"string"===u.timeType?o(t,u.modelTimeFormat||u.timeFormat):"number"===u.timeType?a.$dateValue.getTime():"iso"===u.timeType?a.$dateValue.toISOString():new Date(a.$dateValue)}),a.$formatters.push(function(e){var t;return t=angular.isUndefined(e)||null===e?0/0:angular.isDate(e)?e:"string"===u.timeType?d.parse(e,null,u.modelTimeFormat):new Date(e),a.$dateValue=t,a.$dateValue}),a.$render=function(){t.val(!a.$dateValue||isNaN(a.$dateValue.getTime())?"":o(a.$dateValue,u.timeFormat))},e.$on("$destroy",function(){c.destroy(),u=null,c=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var e=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",template:"tooltip/tooltip.tpl.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","dimensions","$$rAF",function(n,a,o,r,i,s,l,u,c){function d(t,n){function r(){return"body"===$.container?u.offset($.target[0]||t[0]):u.position($.target[0]||t[0])}function i(e,t,n,a){var o,r=e.split("-");switch(r[0]){case"right":o={top:t.top+t.height/2-a/2,left:t.left+t.width};break;case"bottom":o={top:t.top+t.height,left:t.left+t.width/2-n/2};break;case"left":o={top:t.top+t.height/2-a/2,left:t.left-n};break;default:o={top:t.top-a,left:t.left+t.width/2-n/2}}if(!r[1])return o;if("top"===r[0]||"bottom"===r[0])switch(r[1]){case"left":o.left=t.left;break;case"right":o.left=t.left+t.width-n}else if("left"===r[0]||"right"===r[0])switch(r[1]){case"top":o.top=t.top-a;break;case"bottom":o.top=t.top+t.height}return o}var s={},d=t[0].nodeName.toLowerCase(),$=s.$options=angular.extend({},e,n);s.$promise=h($.template);var y=s.$scope=$.scope&&$.scope.$new()||a.$new();$.delay&&angular.isString($.delay)&&($.delay=parseFloat($.delay)),$.title&&(s.$scope.title=$.title),y.$hide=function(){y.$$postDigest(function(){s.hide()})},y.$show=function(){y.$$postDigest(function(){s.show()})},y.$toggle=function(){y.$$postDigest(function(){s.toggle()})},s.$isShown=y.$isShown=!1;var v,b;$.contentTemplate&&(s.$promise=s.$promise.then(function(e){var t=angular.element(e);return h($.contentTemplate).then(function(e){var n=f('[ng-bind="content"]',t[0]);return n.length||(n=f('[ng-bind="title"]',t[0])),n.removeAttr("ng-bind").html(e),t[0].outerHTML})}));var w,D,k,M;return s.$promise.then(function(e){angular.isObject(e)&&(e=e.data),$.html&&(e=e.replace(g,'ng-bind-html="')),e=m.apply(e),k=e,w=o(e),s.init()}),s.init=function(){$.delay&&angular.isNumber($.delay)&&($.delay={show:$.delay,hide:$.delay}),"self"===$.container?M=t:angular.isElement($.container)?M=$.container:$.container&&(M=f($.container));var e=$.trigger.split(" ");angular.forEach(e,function(e){"click"===e?t.on("click",s.toggle):"manual"!==e&&(t.on("hover"===e?"mouseenter":"focus",s.enter),t.on("hover"===e?"mouseleave":"blur",s.leave),"button"===d&&"hover"!==e&&t.on(p?"touchstart":"mousedown",s.$onFocusElementMouseDown))}),$.target&&($.target=angular.isElement($.target)?$.target:f($.target)[0]),$.show&&y.$$postDigest(function(){"focus"===$.trigger?t[0].focus():s.show()})},s.destroy=function(){for(var e=$.trigger.split(" "),n=e.length;n--;){var a=e[n];"click"===a?t.off("click",s.toggle):"manual"!==a&&(t.off("hover"===a?"mouseenter":"focus",s.enter),t.off("hover"===a?"mouseleave":"blur",s.leave),"button"===d&&"hover"!==a&&t.off(p?"touchstart":"mousedown",s.$onFocusElementMouseDown))}D&&(D.remove(),D=null),clearTimeout(v),y.$destroy()},s.enter=function(){return clearTimeout(v),b="in",$.delay&&$.delay.show?void(v=setTimeout(function(){"in"===b&&s.show()},$.delay.show)):s.show()},s.show=function(){y.$emit($.prefixEvent+".show.before",s);var e=$.container?M:null,n=$.container?null:t;D&&D.remove(),D=s.$element=w(y,function(){}),D.css({top:"-9999px",left:"-9999px",display:"block",visibility:"hidden"}).addClass($.placement),$.animation&&D.addClass($.animation),$.type&&D.addClass($.prefixClass+"-"+$.type),$.customClass&&D.addClass($.customClass),l.enter(D,e,n,function(){y.$emit($.prefixEvent+".show",s)}),s.$isShown=y.$isShown=!0,y.$$phase||y.$root&&y.$root.$$phase||y.$digest(),c(function(){s.$applyPlacement(),D.css({visibility:"visible"})}),$.keyboard&&("focus"!==$.trigger?(s.focus(),D.on("keyup",s.$onKeyUp)):t.on("keyup",s.$onFocusKeyUp))},s.leave=function(){return clearTimeout(v),b="out",$.delay&&$.delay.hide?void(v=setTimeout(function(){"out"===b&&s.hide()},$.delay.hide)):s.hide()},s.hide=function(e){s.$isShown&&(y.$emit($.prefixEvent+".hide.before",s),l.leave(D,function(){return y.$emit($.prefixEvent+".hide",s),e&&"focus"===$.trigger?t[0].blur():void 0}),s.$isShown=y.$isShown=!1,y.$$phase||y.$root&&y.$root.$$phase||y.$digest(),$.keyboard&&null!==D&&D.off("keyup",s.$onKeyUp))},s.toggle=function(){s.$isShown?s.leave():s.enter()},s.focus=function(){D[0].focus()},s.$applyPlacement=function(){if(D){var e=r(),t=D.prop("offsetWidth"),n=D.prop("offsetHeight"),a=i($.placement,e,t,n);a.top+="px",a.left+="px",D.css(a)}},s.$onKeyUp=function(e){27===e.which&&s.hide()},s.$onFocusKeyUp=function(e){27===e.which&&t[0].blur()},s.$onFocusElementMouseDown=function(e){e.preventDefault(),e.stopPropagation(),s.$isShown?t[0].blur():t[0].focus()},s}function f(e,n){return angular.element((n||t).querySelectorAll(e))}function h(e){return r.when(i.get(e)||s.get(e)).then(function(t){return angular.isObject(t)?(i.put(e,t.data),t.data):t})}var m=String.prototype.trim,p="createTouch"in n.document,g=/ng-bind="/gi;return d}]}).directive("bsTooltip",["$window","$location","$sce","$tooltip","$$rAF",function(e,t,n,a,o){return{restrict:"EAC",scope:!0,link:function(e,t,r){var i={scope:e};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","type","customClass"],function(e){angular.isDefined(r[e])&&(i[e]=r[e])}),angular.forEach(["title"],function(t){r.$observe(t,function(a,r){e[t]=n.trustAsHtml(a),angular.isDefined(r)&&o(function(){s&&s.$applyPlacement()})})}),r.bsTooltip&&e.$watch(r.bsTooltip,function(t,n){angular.isObject(t)?angular.extend(e,t):e.title=t,angular.isDefined(n)&&o(function(){s&&s.$applyPlacement()})},!0),r.bsShow&&e.$watch(r.bsShow,function(e){s&&angular.isDefined(e)&&(angular.isString(e)&&(e=e.match(",?(tooltip),?")),e===!0?s.show():s.hide())});var s=a(t,i);e.$on("$destroy",function(){s&&s.destroy(),i=null,s=null})}}}]),angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var e=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",template:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"filter",limit:6};this.$get=["$window","$rootScope","$tooltip",function(t,n,a){function o(t,n,o){var r={},i=angular.extend({},e,o);r=a(t,i);var s=o.scope,l=r.$scope;l.$resetMatches=function(){l.$matches=[],l.$activeIndex=0},l.$resetMatches(),l.$activate=function(e){l.$$postDigest(function(){r.activate(e)})},l.$select=function(e){l.$$postDigest(function(){r.select(e)})},l.$isVisible=function(){return r.$isVisible()},r.update=function(e){l.$matches=e,l.$activeIndex>=e.length&&(l.$activeIndex=0)},r.activate=function(e){l.$activeIndex=e},r.select=function(e){var t=l.$matches[e].value;n.$setViewValue(t),n.$render(),l.$resetMatches(),s&&s.$digest(),l.$emit(i.prefixEvent+".select",t,e)},r.$isVisible=function(){return i.minLength&&n?l.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=i.minLength:!!l.$matches.length},r.$getIndex=function(e){var t=l.$matches.length,n=t;if(t){for(n=t;n--&&l.$matches[n].value!==e;);if(!(0>n))return n}},r.$onMouseDown=function(e){e.preventDefault(),e.stopPropagation()},r.$onKeyDown=function(e){/(38|40|13)/.test(e.keyCode)&&(r.$isVisible()&&(e.preventDefault(),e.stopPropagation()),13===e.keyCode&&l.$matches.length?r.select(l.$activeIndex):38===e.keyCode&&l.$activeIndex>0?l.$activeIndex--:40===e.keyCode&&l.$activeIndex<l.$matches.length-1?l.$activeIndex++:angular.isUndefined(l.$activeIndex)&&(l.$activeIndex=0),l.$digest())};var u=r.show;r.show=function(){u(),setTimeout(function(){r.$element.on("mousedown",r.$onMouseDown),i.keyboard&&t.on("keydown",r.$onKeyDown)})};var c=r.hide;return r.hide=function(){r.$element.off("mousedown",r.$onMouseDown),i.keyboard&&t.off("keydown",r.$onKeyDown),c()},r}return angular.element(t.document.body),o.defaults=e,o}]}).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(e,t,n,a,o){var r=a.defaults;return{restrict:"EAC",require:"ngModel",link:function(e,t,n,i){var s={scope:e};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","minLength","watchOptions","selectMode"],function(e){angular.isDefined(n[e])&&(s[e]=n[e])});var l=s.filter||r.filter,u=s.limit||r.limit,c=n.ngOptions;l&&(c+=" | "+l+":$viewValue"),u&&(c+=" | limitTo:"+u);var d=o(c),f=a(t,i,s);if(s.watchOptions){var h=d.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();e.$watch(h,function(){d.valuesFn(e,i).then(function(e){f.update(e),i.$render()})},!0)}e.$watch(n.ngModel,function(t){e.$modelValue=t,d.valuesFn(e,i).then(function(e){if(s.selectMode&&!e.length&&t.length>0)return void i.$setViewValue(i.$viewValue.substring(0,i.$viewValue.length-1));e.length>u&&(e=e.slice(0,u));var n=f.$isVisible();n&&f.update(e),(1!==e.length||e[0].value!==t)&&(!n&&f.update(e),i.$render())})}),i.$render=function(){if(i.$isEmpty(i.$viewValue))return t.val("");var e=f.$getIndex(i.$modelValue),n=angular.isDefined(e)?f.$scope.$matches[e].label:i.$viewValue;n=angular.isObject(n)?n.label:n,t.val(n.replace(/<(?:.|\n)*?>/gm,"").trim())},e.$on("$destroy",function(){f.destroy(),s=null,f=null})}}}])}(window,document),/**
 * angular-strap
 * @version v2.0.5 - 2014-08-07
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(){angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(e){e.put("alert/alert.tpl.html",'<div class="alert" tabindex="-1" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(e){e.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(e){e.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-show="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(e){e.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu"><li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(e){e.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(e){e.put("popover/popover.tpl.html",'<div class="popover"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(e){e.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button class="btn btn-default btn-xs" ng-click="$selectAll()">All</button> <button class="btn btn-default btn-xs" ng-click="$selectNone()">None</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><span ng-bind="match.label"></span> <i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(e){e.put("tab/tab.tpl.html",'<ul class="nav nav-tabs"><li ng-repeat="pane in panes" ng-class="{active: $index == active}"><a data-toggle="tab" ng-click="setActive($index, $event)" data-index="{{$index}}" ng-bind-html="pane.title"></a></li></ul><div class="tab-content"><div ng-repeat="pane in panes" class="tab-pane" ng-class="[$index == active ? \'active\' : \'\']" ng-include="pane.template || \'$pane\'"></div></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(e){e.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(e){e.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(e){e.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}])}(window,document);